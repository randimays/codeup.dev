<!DOCTYPE html>
<html lang="en">
<head>
	<!-- make the sort function work, use jquery instead -->
	<meta charset="UTF-8">
	<title>Books</title>
</head>
<body>
<table>
	<thead>
		<tr>
			<th>
				<a id="sort" class="header" href="#">Friend</a>
			</th>
			<td class="header">Books</td>
		</tr>
	</thead>
	<tbody id="friends">
	</tbody>
</table>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script>

var friends = [
    {
    	name: 'Oliver', 
    	books: ['Ansible for DevOps', 'Servers for hackers']
    },
    {
    	name: 'Barry', 
    	books: ['Working effectively with unit tests', '50 quick ideas for your tests']
    },
    {
    	name: 'Jessica', 
    	books: ['Understanding the 4 rules of simple design', 'Principles of package design']
    },
    {
    	name: 'Clark', 
    	books: ['Selling test driven projects']
    }
];

var buildTableRows = function (friends) {
    var table = '';
    friends.forEach(function (friend)  {
        table += '<tr><td>' + friend.name + '</td><td>' + friend.books.join(', ') + '</td></tr>';
    });
    return table;
}

var sortFriendsByName = function(friends) {
    friends.sort(function (friendA, friendB) {
        if (friendA.name < friendB.name) {
            return -1;
        }
        if (friendA.name > friendB.name) {
            return 1;
        }
        return 0;
    });
};

$("#friends").html(buildTableRows(friends));

$("#sort").on("click", function() {
	event.preventDefault();
    sortFriendsByName(friends);
    $("#friends").html(buildTableRows(friends));
});

</script>
</body>
</html>